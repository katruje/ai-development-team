# {{ module_name }}.py
# Generated by {{ agent_name }} on {{ timestamp }}
# Template: python_module.py.j2
"""{{ module_name }} module.

{{ description }}
"""

from typing import Any, Dict, List, Optional, Union

{% for import_stmt in imports %}
{{ import_stmt }}
{% endfor %}


class {{ class_name }}:
    """{{ class_name }} class.
    
    {{ class_description }}
    """
    
    def __init__(self{% if init_params %}, {% endif %}{{ init_params|join(', ') }}):
        """Initialize {{ class_name }}.
        
        Args:
        {% for param_name, param_type, param_desc in init_params %}
            {{ param_name }}: {{ param_type }}, {{ param_desc }}
        {% endfor %}
        """
        {% for param_name, _, _ in init_params %}
        self.{{ param_name }} = {{ param_name }}
        {% endfor %}
    
    {% for method in methods %}
    def {{ method.name }}(self{% if method.params %}, {% endif %}{{ method.params|join(', ') }}) -> {{ method.return_type }}:
        """{{ method.description }}
        
        Args:
        {% for param_name, param_type, param_desc in method.params %}
            {{ param_name }}: {{ param_type }}, {{ param_desc }}
        {% endfor %}
            
        Returns:
            {{ method.return_type }}: {{ method.return_description }}
            
        Raises:
        {% for error in method.raises %}
            {{ error.type }}: {{ error.description }}
        {% endfor %}
        """
        {{ method.body|default("        pass") }}
    
    {% endfor %}


{% if functions %}
# Module-level functions
{% for func in functions %}
def {{ func.name }}({{ func.params|join(', ') }}) -> {{ func.return_type }}:
    """{{ func.description }}
    
    Args:
    {% for param_name, param_type, param_desc in func.params %}
        {{ param_name }}: {{ param_type }}, {{ param_desc }}
    {% endfor %}
        
    Returns:
        {{ func.return_type }}: {{ func.return_description }}
        
    Raises:
    {% for error in func.raises %}
        {{ error.type }}: {{ error.description }}
    {% endfor %}
    
    Example:
        >>> result = {{ func.example.name }}({{ func.example.args|join(', ') }})
        >>> print(result)
        {{ func.example.output }}
    """
    {{ func.body|default("    pass") }}

{% endfor %}
{% endif %}


if __name__ == "__main__":
    # Example usage
    print("{{ module_name }} module")
    
    {% if class_name %}
    # Example class usage
    obj = {{ class_name }}(
        {% for param_name, _, default in init_params %}
        {{ param_name }}={{ default|default("None") }}{% if not loop.last %},{% endif %}
        {% endfor %}
    )
    {% endif %}
    
    {% for func in functions %}
    # Example function call
    result = {{ func.name }}(
        {% for param_name, _, default in func.params %}
        {{ param_name }}={{ default|default("None") }}{% if not loop.last %},{% endif %}
        {% endfor %}
    )
    print(f"{{ func.name }} result: {result}")
    {% endfor %}
